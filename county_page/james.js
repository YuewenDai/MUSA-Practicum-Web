//var parse_georaster = require("georaster");

//var GeoRasterLayer = require("georaster-layer-for-leaflet");

var map = L.map('map', {
    center: [37.328385, -76.804802],
    zoom: 12
  });


var Stamen_Terrain = L.tileLayer('http://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}.png', {
    attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    subdomains: 'abcd',
    minZoom: 0,
    maxZoom: 20,
    ext: 'png'
  }).addTo(map);


/*
  var url_to_geotiff_file = "county_page/data/port_14_10.tif";

  fetch(url_to_geotiff_file)
    .then(response => response.arrayBuffer())
    .then(arrayBuffer => {
      parse_georaster(arrayBuffer).then(georaster => {
        console.log("georaster:", georaster);
  
        /*
            GeoRasterLayer is an extension of GridLayer,
            which means can use GridLayer options like opacity.
  
            Just make sure to include the georaster option!
  
            Optionally set the pixelValuesToColorFn function option to customize
            how values for a pixel are translated to a color.
  
            http://leafletjs.com/reference-1.2.0.html#gridlayer
        
        var layer = new GeoRasterLayer({
            georaster: georaster,
            opacity: 0.7,
            
            resolution: 64 // optional parameter for adjusting display resolution
        });
        layer.addTo(map);
  
        map.fitBounds(layer.getBounds());
  
    });
  });
 */

  
//GeoJson Part

const portdata = {
    "type": "FeatureCollection",
    "name": "jame_tracts18",
    "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
    "features": [
    { "type": "Feature", "properties": { "GEOID": "510950801014", "TotalPop": 921.0, "MedHHInc": 44688.0, "TotalUnit": 390.0, "pctWhite": 43.431053203040179, "area": 1405265.4111373983 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.680065, 37.264884 ], [ -76.68029, 37.265732 ], [ -76.680151, 37.265997 ], [ -76.679257, 37.265608 ], [ -76.669266, 37.26603 ], [ -76.665824, 37.264063 ], [ -76.664235, 37.260327 ], [ -76.663441, 37.257385 ], [ -76.663503, 37.254548 ], [ -76.662309, 37.2517 ], [ -76.662466, 37.251609 ], [ -76.664971, 37.250237 ], [ -76.664233, 37.251106 ], [ -76.667156, 37.251017 ], [ -76.666604, 37.252326 ], [ -76.667664, 37.254367 ], [ -76.675685, 37.260497 ], [ -76.677597, 37.259152 ], [ -76.67842, 37.260465 ], [ -76.680925, 37.260595 ], [ -76.680065, 37.264884 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802032", "TotalPop": 2052.0, "MedHHInc": 76464.0, "TotalUnit": 965.0, "pctWhite": 82.115009746588697, "area": 2663867.2614248008 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.749573, 37.235493 ], [ -76.748619, 37.236755 ], [ -76.746976, 37.238216 ], [ -76.732418, 37.253363 ], [ -76.732155, 37.253666 ], [ -76.730753, 37.253362 ], [ -76.727855, 37.25049 ], [ -76.729071, 37.249614 ], [ -76.727921, 37.24619 ], [ -76.728741, 37.239856 ], [ -76.729574, 37.23316 ], [ -76.736077, 37.23348 ], [ -76.738558, 37.23322 ], [ -76.740752, 37.232053 ], [ -76.741709, 37.230626 ], [ -76.744747, 37.232324 ], [ -76.74525, 37.233487 ], [ -76.746323, 37.233734 ], [ -76.74696, 37.233845 ], [ -76.750135, 37.234916 ], [ -76.749573, 37.235493 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950801021", "TotalPop": 1404.0, "MedHHInc": 76464.0, "TotalUnit": 435.0, "pctWhite": 52.065527065527064, "area": 6544826.1198179135 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.627323, 37.231469 ], [ -76.627192, 37.231542 ], [ -76.625767, 37.233207 ], [ -76.623196, 37.235057 ], [ -76.61758, 37.236113 ], [ -76.614577, 37.236383 ], [ -76.601115, 37.238193 ], [ -76.600283, 37.235665 ], [ -76.598955, 37.234033 ], [ -76.597307, 37.233249 ], [ -76.595019, 37.230449 ], [ -76.594363, 37.223985 ], [ -76.595099, 37.222225 ], [ -76.594891, 37.220001 ], [ -76.593491, 37.216333 ], [ -76.593737, 37.215439 ], [ -76.591577, 37.213833 ], [ -76.591266, 37.213526 ], [ -76.591862, 37.209783 ], [ -76.597005, 37.209514 ], [ -76.60494, 37.211601 ], [ -76.605932, 37.211473 ], [ -76.609237, 37.21285 ], [ -76.613548, 37.21352 ], [ -76.614873, 37.214222 ], [ -76.618889, 37.218308 ], [ -76.62002, 37.221703 ], [ -76.620102, 37.223429 ], [ -76.623145, 37.225786 ], [ -76.622511, 37.226346 ], [ -76.626729, 37.229762 ], [ -76.627269, 37.231328 ], [ -76.627323, 37.231469 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950801013", "TotalPop": 1657.0, "MedHHInc": 149732.0, "TotalUnit": 673.0, "pctWhite": 97.042848521424261, "area": 4409157.8040124942 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.700271, 37.248744 ], [ -76.698043, 37.249018 ], [ -76.690505, 37.247591 ], [ -76.682638, 37.247226 ], [ -76.680002, 37.244683 ], [ -76.679891, 37.242112 ], [ -76.681274, 37.238748 ], [ -76.679622, 37.233833 ], [ -76.675155, 37.232389 ], [ -76.676055, 37.22903 ], [ -76.678059, 37.230033 ], [ -76.679535, 37.229285 ], [ -76.678253, 37.227154 ], [ -76.675874, 37.226775 ], [ -76.676360754898397, 37.223140271336604 ], [ -76.684086, 37.22311 ], [ -76.692999, 37.223678 ], [ -76.69360940766019, 37.223203660669199 ], [ -76.69468, 37.226487 ], [ -76.695121, 37.229915 ], [ -76.69693, 37.233209 ], [ -76.697938, 37.23864 ], [ -76.699348, 37.242875 ], [ -76.700271, 37.248744 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802061", "TotalPop": 1955.0, "MedHHInc": 127240.0, "TotalUnit": 1220.0, "pctWhite": 90.792838874680299, "area": 3175759.9910756531 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.769405, 37.299839 ], [ -76.766335, 37.307184 ], [ -76.765559, 37.311121 ], [ -76.763528, 37.313318 ], [ -76.761774, 37.314237 ], [ -76.760319, 37.313209 ], [ -76.756944, 37.30934 ], [ -76.753726, 37.308011 ], [ -76.752137, 37.306687 ], [ -76.748505, 37.310008 ], [ -76.747357, 37.310859 ], [ -76.744059, 37.303608 ], [ -76.743959, 37.301941 ], [ -76.744764, 37.299996 ], [ -76.745475, 37.299201 ], [ -76.750457, 37.294753 ], [ -76.752182, 37.291775 ], [ -76.754425, 37.293103 ], [ -76.75815, 37.293151 ], [ -76.759797, 37.296218 ], [ -76.762787, 37.299424 ], [ -76.767744, 37.298511 ], [ -76.770323, 37.298786 ], [ -76.769405, 37.299839 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950801012", "TotalPop": 1659.0, "MedHHInc": 103173.0, "TotalUnit": 875.0, "pctWhite": 86.437613019891501, "area": 3404610.6348289489 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.682638, 37.247226 ], [ -76.673143, 37.247657 ], [ -76.670005, 37.248353 ], [ -76.664971, 37.250237 ], [ -76.662466, 37.251609 ], [ -76.660296, 37.249183 ], [ -76.658835, 37.245291 ], [ -76.656542, 37.243161 ], [ -76.659974, 37.241492 ], [ -76.661235, 37.24008 ], [ -76.659849, 37.237044 ], [ -76.659951, 37.23424 ], [ -76.661658, 37.232578 ], [ -76.664952, 37.230548 ], [ -76.669145, 37.232413 ], [ -76.673479, 37.231798 ], [ -76.675155, 37.232389 ], [ -76.679622, 37.233833 ], [ -76.681274, 37.238748 ], [ -76.679891, 37.242112 ], [ -76.680002, 37.244683 ], [ -76.682638, 37.247226 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950804011", "TotalPop": 3937.0, "MedHHInc": 61732.0, "TotalUnit": 1598.0, "pctWhite": 75.311150622301255, "area": 38897123.040553182 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.892062, 37.432418 ], [ -76.889196, 37.432224 ], [ -76.887051, 37.432874 ], [ -76.884114, 37.43503 ], [ -76.882225, 37.437149 ], [ -76.878771, 37.439391 ], [ -76.876019, 37.440404 ], [ -76.867525, 37.441197 ], [ -76.865245, 37.442049 ], [ -76.864543, 37.443335 ], [ -76.861409, 37.445603 ], [ -76.850898, 37.437551 ], [ -76.839177, 37.427826 ], [ -76.835651, 37.425528 ], [ -76.829966, 37.422795 ], [ -76.825391, 37.421269 ], [ -76.818442, 37.419513 ], [ -76.810518, 37.417059 ], [ -76.801855, 37.413612 ], [ -76.797521, 37.411551 ], [ -76.792516, 37.408846 ], [ -76.78671, 37.405244 ], [ -76.782892, 37.402538 ], [ -76.777568, 37.398254 ], [ -76.766792, 37.38859 ], [ -76.766355, 37.387579 ], [ -76.768991, 37.390122 ], [ -76.772152, 37.39223 ], [ -76.78682, 37.39702 ], [ -76.789423, 37.397774 ], [ -76.807996, 37.401501 ], [ -76.805217, 37.395645 ], [ -76.804492, 37.393399 ], [ -76.803965, 37.389465 ], [ -76.806009, 37.383513 ], [ -76.806173, 37.381928 ], [ -76.809675, 37.382156 ], [ -76.81232, 37.383814 ], [ -76.817097, 37.385002 ], [ -76.8219, 37.384454 ], [ -76.823743, 37.383692 ], [ -76.838653, 37.374013 ], [ -76.840848, 37.373332 ], [ -76.844069, 37.373475 ], [ -76.847858, 37.373785 ], [ -76.853794, 37.375191 ], [ -76.85627, 37.375328 ], [ -76.85605, 37.379852 ], [ -76.857362, 37.382938 ], [ -76.860393, 37.385245 ], [ -76.862798, 37.38814 ], [ -76.864708, 37.389324 ], [ -76.869277, 37.390511 ], [ -76.869975, 37.391743 ], [ -76.870589, 37.394961 ], [ -76.873029, 37.399588 ], [ -76.876456, 37.404462 ], [ -76.880299, 37.409232 ], [ -76.880609, 37.413123 ], [ -76.884071, 37.417649 ], [ -76.884587, 37.41972 ], [ -76.883899, 37.421411 ], [ -76.88615, 37.422536 ], [ -76.887893, 37.42474 ], [ -76.888946, 37.42744 ], [ -76.891946, 37.429472 ], [ -76.893602, 37.429719 ], [ -76.892062, 37.432418 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803042", "TotalPop": 2321.0, "MedHHInc": 108370.0, "TotalUnit": 852.0, "pctWhite": 99.310641964670396, "area": 4371988.7554327901 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.81754, 37.244743 ], [ -76.815052, 37.245836 ], [ -76.813509, 37.248073 ], [ -76.812363, 37.247942 ], [ -76.810702, 37.250602 ], [ -76.812134, 37.252073 ], [ -76.812695, 37.255254 ], [ -76.805853, 37.252174 ], [ -76.804299, 37.251941 ], [ -76.800421, 37.253163 ], [ -76.794628, 37.243337 ], [ -76.788629, 37.239609 ], [ -76.786162, 37.236936 ], [ -76.78352, 37.232025 ], [ -76.78085, 37.229437 ], [ -76.782697, 37.227786 ], [ -76.784217, 37.226816 ], [ -76.788879560098593, 37.222601906498198 ], [ -76.789259, 37.223205 ], [ -76.791042, 37.22699 ], [ -76.793537, 37.231248 ], [ -76.798885, 37.234749 ], [ -76.803191, 37.236112 ], [ -76.810056, 37.238628 ], [ -76.816592, 37.24175 ], [ -76.818542784723789, 37.242410738399101 ], [ -76.81754, 37.244743 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950804012", "TotalPop": 4031.0, "MedHHInc": 100625.0, "TotalUnit": 1564.0, "pctWhite": 87.348052592408834, "area": 86503057.938982874 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.859974, 37.446834 ], [ -76.856274, 37.44805 ], [ -76.852949, 37.447514 ], [ -76.84991, 37.448786 ], [ -76.84485, 37.447512 ], [ -76.839729, 37.448859 ], [ -76.830228, 37.449617 ], [ -76.826947, 37.448893 ], [ -76.82413, 37.450728 ], [ -76.82249, 37.450643 ], [ -76.819276, 37.448999 ], [ -76.816011, 37.448919 ], [ -76.814741, 37.447502 ], [ -76.811973, 37.446876 ], [ -76.810431, 37.445717 ], [ -76.808156, 37.44551 ], [ -76.8059, 37.443366 ], [ -76.802479, 37.441644 ], [ -76.801755, 37.440532 ], [ -76.797865, 37.438066 ], [ -76.795098, 37.437789 ], [ -76.79254, 37.435495 ], [ -76.790859, 37.435965 ], [ -76.787063, 37.438141 ], [ -76.786137, 37.437567 ], [ -76.783024, 37.437679 ], [ -76.780547, 37.436096 ], [ -76.777297, 37.43573 ], [ -76.777063, 37.433959 ], [ -76.774385, 37.434716 ], [ -76.774098, 37.436923 ], [ -76.772634, 37.438342 ], [ -76.77089, 37.43885 ], [ -76.771637, 37.435255 ], [ -76.770142, 37.435029 ], [ -76.767305, 37.438112 ], [ -76.76816, 37.439225 ], [ -76.765675, 37.438654 ], [ -76.766402, 37.437571 ], [ -76.764431, 37.436953 ], [ -76.763628, 37.438221 ], [ -76.764479, 37.439824 ], [ -76.765853, 37.440259 ], [ -76.763086, 37.442467 ], [ -76.760179, 37.442846 ], [ -76.75928, 37.443954 ], [ -76.759895, 37.444793 ], [ -76.761991, 37.444408 ], [ -76.761636, 37.446259 ], [ -76.759185, 37.444646 ], [ -76.757936, 37.445804 ], [ -76.760336, 37.447366 ], [ -76.762303, 37.449616 ], [ -76.76243, 37.450716 ], [ -76.765696, 37.4515 ], [ -76.763954, 37.453782 ], [ -76.760473, 37.45253 ], [ -76.761244, 37.455265 ], [ -76.760258, 37.458691 ], [ -76.758504, 37.456685 ], [ -76.756375, 37.456428 ], [ -76.757654, 37.45951 ], [ -76.756789, 37.461715 ], [ -76.751934, 37.463243 ], [ -76.741984, 37.467076 ], [ -76.737062, 37.457372 ], [ -76.732961, 37.450235 ], [ -76.727586, 37.444156 ], [ -76.712305, 37.431309 ], [ -76.698879, 37.419106 ], [ -76.672372, 37.395879 ], [ -76.668035, 37.390893 ], [ -76.662334, 37.383402 ], [ -76.658651, 37.380139 ], [ -76.664971, 37.375144 ], [ -76.673712, 37.367728 ], [ -76.676169, 37.369251 ], [ -76.67842, 37.36889 ], [ -76.679928, 37.367915 ], [ -76.679967, 37.366886 ], [ -76.683287, 37.367576 ], [ -76.682664, 37.369655 ], [ -76.683377, 37.370114 ], [ -76.686092, 37.369623 ], [ -76.686393, 37.369091 ], [ -76.688838, 37.369691 ], [ -76.690146, 37.368997 ], [ -76.689421, 37.36756 ], [ -76.690647, 37.365888 ], [ -76.692403, 37.365736 ], [ -76.690409, 37.36711 ], [ -76.69344, 37.368132 ], [ -76.694756, 37.366878 ], [ -76.692801, 37.367187 ], [ -76.694669, 37.366061 ], [ -76.694707, 37.365207 ], [ -76.695571, 37.366015 ], [ -76.697725, 37.36601 ], [ -76.698709, 37.366848 ], [ -76.69817, 37.368265 ], [ -76.700171, 37.367582 ], [ -76.699843, 37.365899 ], [ -76.70094, 37.366452 ], [ -76.702673, 37.365939 ], [ -76.704954, 37.365978 ], [ -76.705548, 37.365163 ], [ -76.707546, 37.365693 ], [ -76.70888, 37.364779 ], [ -76.710436, 37.364764 ], [ -76.711808, 37.36509 ], [ -76.71229, 37.366218 ], [ -76.713844, 37.365851 ], [ -76.715634, 37.366744 ], [ -76.716655, 37.366421 ], [ -76.719823, 37.369203 ], [ -76.725209, 37.369071 ], [ -76.725869, 37.370607 ], [ -76.727103, 37.371248 ], [ -76.734778, 37.371641 ], [ -76.741811, 37.370396 ], [ -76.742802, 37.3695 ], [ -76.743887, 37.366291 ], [ -76.745182, 37.365133 ], [ -76.74531, 37.364744 ], [ -76.748687, 37.368005 ], [ -76.760085, 37.382276 ], [ -76.762876, 37.38507 ], [ -76.766386, 37.381961 ], [ -76.765751, 37.384878 ], [ -76.766355, 37.387579 ], [ -76.766792, 37.38859 ], [ -76.777568, 37.398254 ], [ -76.782892, 37.402538 ], [ -76.78671, 37.405244 ], [ -76.792516, 37.408846 ], [ -76.797521, 37.411551 ], [ -76.801855, 37.413612 ], [ -76.810518, 37.417059 ], [ -76.818442, 37.419513 ], [ -76.825391, 37.421269 ], [ -76.829966, 37.422795 ], [ -76.835651, 37.425528 ], [ -76.839177, 37.427826 ], [ -76.850898, 37.437551 ], [ -76.861409, 37.445603 ], [ -76.859974, 37.446834 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803013", "TotalPop": 3584.0, "MedHHInc": 68676.0, "TotalUnit": 1403.0, "pctWhite": 69.391741071428569, "area": 3519292.9898839639 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.761774, 37.314237 ], [ -76.758872, 37.314666 ], [ -76.756404, 37.318157 ], [ -76.747711, 37.324661 ], [ -76.745681, 37.325755 ], [ -76.74354, 37.326046 ], [ -76.741165, 37.325491 ], [ -76.739081, 37.326101 ], [ -76.746483, 37.333823 ], [ -76.752121, 37.337993 ], [ -76.751743, 37.338173 ], [ -76.746419, 37.336596 ], [ -76.743875, 37.335322 ], [ -76.735648, 37.332278 ], [ -76.734576, 37.331427 ], [ -76.734594, 37.329597 ], [ -76.735563, 37.327046 ], [ -76.735948, 37.32344 ], [ -76.734546, 37.320684 ], [ -76.733683, 37.31788 ], [ -76.73099, 37.315885 ], [ -76.729601, 37.312979 ], [ -76.732114, 37.312749 ], [ -76.733507, 37.315897 ], [ -76.733803, 37.315863 ], [ -76.740159, 37.315333 ], [ -76.746389, 37.314398 ], [ -76.746704, 37.313955 ], [ -76.746667, 37.311939 ], [ -76.747357, 37.310859 ], [ -76.748505, 37.310008 ], [ -76.752137, 37.306687 ], [ -76.753726, 37.308011 ], [ -76.756944, 37.30934 ], [ -76.760319, 37.313209 ], [ -76.761774, 37.314237 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803012", "TotalPop": 3515.0, "MedHHInc": 64741.0, "TotalUnit": 1402.0, "pctWhite": 75.391180654338555, "area": 8430458.3170976583 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.788674, 37.328554 ], [ -76.78304, 37.333509 ], [ -76.781535, 37.334081 ], [ -76.776638, 37.334494 ], [ -76.765684, 37.338332 ], [ -76.762989, 37.33882 ], [ -76.760594, 37.338876 ], [ -76.756064, 37.337827 ], [ -76.753072, 37.338675 ], [ -76.751743, 37.338173 ], [ -76.752121, 37.337993 ], [ -76.746483, 37.333823 ], [ -76.739081, 37.326101 ], [ -76.741165, 37.325491 ], [ -76.74354, 37.326046 ], [ -76.745681, 37.325755 ], [ -76.747711, 37.324661 ], [ -76.756404, 37.318157 ], [ -76.758872, 37.314666 ], [ -76.761774, 37.314237 ], [ -76.763631, 37.314435 ], [ -76.773936, 37.312877 ], [ -76.775706, 37.313398 ], [ -76.778864, 37.315293 ], [ -76.783788, 37.316788 ], [ -76.789593, 37.316392 ], [ -76.788479, 37.320821 ], [ -76.789685, 37.324469 ], [ -76.788674, 37.328554 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950801022", "TotalPop": 3083.0, "MedHHInc": 49816.0, "TotalUnit": 1107.0, "pctWhite": 52.546221213104118, "area": 16169304.533470996 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.638791, 37.216113 ], [ -76.638235, 37.217579 ], [ -76.63704, 37.218452 ], [ -76.633093, 37.225412 ], [ -76.62834, 37.229903 ], [ -76.629667, 37.231304 ], [ -76.627269, 37.231328 ], [ -76.626729, 37.229762 ], [ -76.622511, 37.226346 ], [ -76.623145, 37.225786 ], [ -76.620102, 37.223429 ], [ -76.62002, 37.221703 ], [ -76.618889, 37.218308 ], [ -76.614873, 37.214222 ], [ -76.613548, 37.21352 ], [ -76.609237, 37.21285 ], [ -76.605932, 37.211473 ], [ -76.60494, 37.211601 ], [ -76.597005, 37.209514 ], [ -76.591862, 37.209783 ], [ -76.59168, 37.20879 ], [ -76.590921, 37.206398 ], [ -76.589549, 37.204503 ], [ -76.585471, 37.200822 ], [ -76.583375, 37.195145 ], [ -76.582172, 37.194882 ], [ -76.58318, 37.192968 ], [ -76.579977, 37.192665 ], [ -76.580175, 37.190745 ], [ -76.577989, 37.190482 ], [ -76.578267, 37.188849 ], [ -76.57991, 37.188092 ], [ -76.577975, 37.187073 ], [ -76.581067, 37.185266 ], [ -76.581218, 37.182511 ], [ -76.583051, 37.18205 ], [ -76.584571, 37.182578 ], [ -76.584347, 37.181058 ], [ -76.586987, 37.18021 ], [ -76.590299, 37.181506 ], [ -76.595403, 37.178418 ], [ -76.597875, 37.178246 ], [ -76.600701, 37.17521 ], [ -76.60478, 37.170644 ], [ -76.610055421217908, 37.167584486272006 ], [ -76.610999, 37.169435 ], [ -76.612817, 37.171163 ], [ -76.616268, 37.178962 ], [ -76.61934, 37.192146 ], [ -76.623292, 37.198738 ], [ -76.629868, 37.206738 ], [ -76.634648, 37.209955 ], [ -76.641085, 37.216002 ], [ -76.638791, 37.216113 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802063", "TotalPop": 4650.0, "MedHHInc": 99217.0, "TotalUnit": 2130.0, "pctWhite": 85.096774193548384, "area": 8623845.1955765039 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.803138, 37.284174 ], [ -76.801434, 37.286411 ], [ -76.799215, 37.290393 ], [ -76.799191, 37.293268 ], [ -76.799758, 37.297043 ], [ -76.80162, 37.299516 ], [ -76.802588, 37.301853 ], [ -76.802444, 37.303689 ], [ -76.800738, 37.306489 ], [ -76.796517, 37.308004 ], [ -76.793822, 37.311618 ], [ -76.790955, 37.314231 ], [ -76.789593, 37.316392 ], [ -76.783788, 37.316788 ], [ -76.778864, 37.315293 ], [ -76.775706, 37.313398 ], [ -76.773936, 37.312877 ], [ -76.763631, 37.314435 ], [ -76.761774, 37.314237 ], [ -76.763528, 37.313318 ], [ -76.765559, 37.311121 ], [ -76.766335, 37.307184 ], [ -76.769405, 37.299839 ], [ -76.770323, 37.298786 ], [ -76.771932, 37.297888 ], [ -76.773595, 37.29503 ], [ -76.77772, 37.290684 ], [ -76.779783, 37.289906 ], [ -76.784508, 37.289063 ], [ -76.787602, 37.286961 ], [ -76.789664, 37.283581 ], [ -76.788488, 37.280588 ], [ -76.788251, 37.2787 ], [ -76.792719, 37.279984 ], [ -76.797622, 37.279448 ], [ -76.799492, 37.279717 ], [ -76.804692, 37.281427 ], [ -76.803138, 37.284174 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950804021", "TotalPop": 3958.0, "MedHHInc": 73977.0, "TotalUnit": 1917.0, "pctWhite": 82.011116725619004, "area": 17638055.931056339 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.81524, 37.346958 ], [ -76.81357, 37.348 ], [ -76.811945, 37.347783 ], [ -76.80891, 37.349218 ], [ -76.802722, 37.349857 ], [ -76.800887, 37.352718 ], [ -76.798852, 37.353244 ], [ -76.796644, 37.355784 ], [ -76.791941, 37.359149 ], [ -76.788213, 37.360041 ], [ -76.785374, 37.363176 ], [ -76.785886, 37.36538 ], [ -76.782292, 37.370436 ], [ -76.781055, 37.371541 ], [ -76.779987, 37.373738 ], [ -76.777903, 37.373093 ], [ -76.776362, 37.374601 ], [ -76.770512, 37.378658 ], [ -76.766386, 37.381961 ], [ -76.762876, 37.38507 ], [ -76.760085, 37.382276 ], [ -76.748687, 37.368005 ], [ -76.74531, 37.364744 ], [ -76.745701, 37.362874 ], [ -76.749683, 37.360592 ], [ -76.751256, 37.357619 ], [ -76.753679, 37.356301 ], [ -76.755511, 37.35422 ], [ -76.754831, 37.352248 ], [ -76.754819, 37.349589 ], [ -76.75332, 37.348753 ], [ -76.753011, 37.345771 ], [ -76.754542, 37.340154 ], [ -76.753072, 37.338675 ], [ -76.756064, 37.337827 ], [ -76.760594, 37.338876 ], [ -76.762989, 37.33882 ], [ -76.765684, 37.338332 ], [ -76.776638, 37.334494 ], [ -76.781535, 37.334081 ], [ -76.78304, 37.333509 ], [ -76.785432, 37.334526 ], [ -76.790383, 37.335266 ], [ -76.793554, 37.335202 ], [ -76.796783, 37.337565 ], [ -76.798805, 37.338496 ], [ -76.800733, 37.33869 ], [ -76.803038, 37.337995 ], [ -76.804873, 37.341016 ], [ -76.807903, 37.342812 ], [ -76.810387, 37.343346 ], [ -76.814816, 37.346206 ], [ -76.81524, 37.346958 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802021", "TotalPop": 3128.0, "MedHHInc": 73419.0, "TotalUnit": 1175.0, "pctWhite": 86.061381074168793, "area": 3989733.8624089477 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.765707, 37.255716 ], [ -76.765175, 37.257554 ], [ -76.761987, 37.263029 ], [ -76.757939, 37.26856 ], [ -76.757821, 37.268669 ], [ -76.759396, 37.269746 ], [ -76.756151, 37.270385 ], [ -76.752233, 37.272993 ], [ -76.752187, 37.273026 ], [ -76.752013, 37.273153 ], [ -76.749353, 37.275103 ], [ -76.748398, 37.274304 ], [ -76.743481, 37.273119 ], [ -76.741143, 37.27338 ], [ -76.740568, 37.275646 ], [ -76.738657, 37.27537 ], [ -76.739144, 37.271575 ], [ -76.741017, 37.265984 ], [ -76.738554, 37.261318 ], [ -76.738029, 37.26037 ], [ -76.738442, 37.260174 ], [ -76.738839, 37.260003 ], [ -76.742599, 37.259209 ], [ -76.744429, 37.258073 ], [ -76.746769, 37.255041 ], [ -76.748512, 37.253836 ], [ -76.752076, 37.252849 ], [ -76.753659, 37.252582 ], [ -76.758589, 37.253365 ], [ -76.762473, 37.253389 ], [ -76.765571, 37.252057 ], [ -76.765707, 37.255716 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803011", "TotalPop": 1931.0, "MedHHInc": 71581.0, "TotalUnit": 797.0, "pctWhite": 86.380113930605901, "area": 79762179.707695797 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.914226, 37.356791 ], [ -76.912136, 37.359633 ], [ -76.910444, 37.364091 ], [ -76.908503, 37.366346 ], [ -76.901139, 37.36998 ], [ -76.898953, 37.371789 ], [ -76.897792, 37.373802 ], [ -76.898099, 37.375146 ], [ -76.904471, 37.377665 ], [ -76.903362, 37.380032 ], [ -76.903388, 37.381152 ], [ -76.900203, 37.385759 ], [ -76.898628, 37.385846 ], [ -76.898308, 37.382526 ], [ -76.895145, 37.382023 ], [ -76.8934, 37.38228 ], [ -76.892164, 37.383381 ], [ -76.89198, 37.384888 ], [ -76.89241, 37.38795 ], [ -76.893489, 37.389541 ], [ -76.897188, 37.39217 ], [ -76.89874, 37.391592 ], [ -76.900368, 37.392117 ], [ -76.900529, 37.395889 ], [ -76.898166, 37.395745 ], [ -76.897739, 37.397197 ], [ -76.897974, 37.39955 ], [ -76.894153, 37.400228 ], [ -76.895212, 37.402982 ], [ -76.893953, 37.405305 ], [ -76.895101, 37.406821 ], [ -76.894921, 37.40791 ], [ -76.893153, 37.409645 ], [ -76.893341, 37.411582 ], [ -76.894671, 37.414879 ], [ -76.890381, 37.420038 ], [ -76.891996, 37.420866 ], [ -76.892465, 37.423733 ], [ -76.892705, 37.424267 ], [ -76.895261, 37.428186 ], [ -76.893602, 37.429719 ], [ -76.891946, 37.429472 ], [ -76.888946, 37.42744 ], [ -76.887893, 37.42474 ], [ -76.88615, 37.422536 ], [ -76.883899, 37.421411 ], [ -76.884587, 37.41972 ], [ -76.884071, 37.417649 ], [ -76.880609, 37.413123 ], [ -76.880299, 37.409232 ], [ -76.876456, 37.404462 ], [ -76.873029, 37.399588 ], [ -76.870589, 37.394961 ], [ -76.869975, 37.391743 ], [ -76.869277, 37.390511 ], [ -76.864708, 37.389324 ], [ -76.862798, 37.38814 ], [ -76.860393, 37.385245 ], [ -76.857362, 37.382938 ], [ -76.85605, 37.379852 ], [ -76.85627, 37.375328 ], [ -76.853794, 37.375191 ], [ -76.847858, 37.373785 ], [ -76.844069, 37.373475 ], [ -76.840848, 37.373332 ], [ -76.838706, 37.369515 ], [ -76.835263, 37.365408 ], [ -76.834172, 37.363535 ], [ -76.832798, 37.363159 ], [ -76.829748, 37.359503 ], [ -76.829671, 37.35851 ], [ -76.828087, 37.355999 ], [ -76.823688, 37.355647 ], [ -76.821361, 37.354906 ], [ -76.817041, 37.354183 ], [ -76.815675, 37.351144 ], [ -76.816363, 37.349062 ], [ -76.81524, 37.346958 ], [ -76.814816, 37.346206 ], [ -76.810387, 37.343346 ], [ -76.807903, 37.342812 ], [ -76.804873, 37.341016 ], [ -76.803038, 37.337995 ], [ -76.800733, 37.33869 ], [ -76.798805, 37.338496 ], [ -76.796783, 37.337565 ], [ -76.793554, 37.335202 ], [ -76.790383, 37.335266 ], [ -76.785432, 37.334526 ], [ -76.78304, 37.333509 ], [ -76.788674, 37.328554 ], [ -76.789685, 37.324469 ], [ -76.788479, 37.320821 ], [ -76.789593, 37.316392 ], [ -76.790955, 37.314231 ], [ -76.793822, 37.311618 ], [ -76.796517, 37.308004 ], [ -76.800738, 37.306489 ], [ -76.802444, 37.303689 ], [ -76.804698, 37.303102 ], [ -76.806715, 37.303471 ], [ -76.808985, 37.301458 ], [ -76.81362, 37.301861 ], [ -76.814688, 37.301339 ], [ -76.819221, 37.297109 ], [ -76.819651, 37.294453 ], [ -76.818872, 37.292776 ], [ -76.816393, 37.291491 ], [ -76.816542, 37.289964 ], [ -76.818803, 37.290232 ], [ -76.819191, 37.288563 ], [ -76.820803, 37.28854 ], [ -76.821973, 37.289939 ], [ -76.825087, 37.289632 ], [ -76.82664, 37.288725 ], [ -76.827897, 37.290053 ], [ -76.829397, 37.28896 ], [ -76.831049, 37.289439 ], [ -76.834524, 37.289113 ], [ -76.83653, 37.286469 ], [ -76.839197, 37.2859 ], [ -76.840278, 37.284368 ], [ -76.842261, 37.283933 ], [ -76.842913, 37.285878 ], [ -76.844819, 37.287362 ], [ -76.846281, 37.286593 ], [ -76.846429, 37.284584 ], [ -76.842772, 37.282083 ], [ -76.842492, 37.281416 ], [ -76.84562, 37.27487 ], [ -76.843638, 37.273781 ], [ -76.843999, 37.272771 ], [ -76.847187, 37.271915 ], [ -76.847768, 37.268294 ], [ -76.851065, 37.267843 ], [ -76.85323, 37.266671 ], [ -76.857283, 37.267012 ], [ -76.859649, 37.26582 ], [ -76.862481, 37.268043 ], [ -76.872923, 37.269084 ], [ -76.875862, 37.270606 ], [ -76.882047, 37.271683 ], [ -76.883076, 37.275924 ], [ -76.882612, 37.278539 ], [ -76.881459, 37.281349 ], [ -76.881564, 37.285509 ], [ -76.880831, 37.287259 ], [ -76.877896, 37.290045 ], [ -76.874685, 37.291961 ], [ -76.872806, 37.293713 ], [ -76.871685, 37.295597 ], [ -76.871995, 37.298399 ], [ -76.874685, 37.301045 ], [ -76.876928, 37.302713 ], [ -76.878374, 37.304863 ], [ -76.87944, 37.307411 ], [ -76.880005, 37.309874 ], [ -76.879351, 37.311722 ], [ -76.875256, 37.317713 ], [ -76.874685, 37.320434 ], [ -76.876077, 37.32553 ], [ -76.87563, 37.329564 ], [ -76.876619, 37.333224 ], [ -76.87553, 37.3383 ], [ -76.874685, 37.339182 ], [ -76.873632, 37.342561 ], [ -76.874685, 37.346012 ], [ -76.877446, 37.347593 ], [ -76.880139, 37.348681 ], [ -76.880598, 37.350241 ], [ -76.879811, 37.352789 ], [ -76.87834, 37.35529 ], [ -76.874685, 37.360211 ], [ -76.87362, 37.362044 ], [ -76.873507, 37.363415 ], [ -76.874437, 37.365427 ], [ -76.877099, 37.369189 ], [ -76.878446, 37.369443 ], [ -76.881463, 37.369253 ], [ -76.88477, 37.368566 ], [ -76.887475, 37.366423 ], [ -76.888855, 37.363969 ], [ -76.891162, 37.362096 ], [ -76.896404, 37.360846 ], [ -76.899517, 37.359028 ], [ -76.90198, 37.356222 ], [ -76.905353, 37.350644 ], [ -76.907978, 37.349015 ], [ -76.909647, 37.348643 ], [ -76.913304, 37.349989 ], [ -76.915863, 37.352615 ], [ -76.914226, 37.356791 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803041", "TotalPop": 3624.0, "MedHHInc": 115262.0, "TotalUnit": 1584.0, "pctWhite": 86.534216335540833, "area": 26711104.582740273 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.882047, 37.271683 ], [ -76.875862, 37.270606 ], [ -76.872923, 37.269084 ], [ -76.862481, 37.268043 ], [ -76.859649, 37.26582 ], [ -76.857283, 37.267012 ], [ -76.85323, 37.266671 ], [ -76.851065, 37.267843 ], [ -76.847768, 37.268294 ], [ -76.847187, 37.271915 ], [ -76.843999, 37.272771 ], [ -76.843638, 37.273781 ], [ -76.84562, 37.27487 ], [ -76.842492, 37.281416 ], [ -76.842772, 37.282083 ], [ -76.846429, 37.284584 ], [ -76.846281, 37.286593 ], [ -76.844819, 37.287362 ], [ -76.842913, 37.285878 ], [ -76.842261, 37.283933 ], [ -76.840278, 37.284368 ], [ -76.839197, 37.2859 ], [ -76.83653, 37.286469 ], [ -76.834524, 37.289113 ], [ -76.831049, 37.289439 ], [ -76.829397, 37.28896 ], [ -76.827897, 37.290053 ], [ -76.82664, 37.288725 ], [ -76.825087, 37.289632 ], [ -76.821973, 37.289939 ], [ -76.820803, 37.28854 ], [ -76.819191, 37.288563 ], [ -76.818803, 37.290232 ], [ -76.816542, 37.289964 ], [ -76.816393, 37.291491 ], [ -76.818872, 37.292776 ], [ -76.819651, 37.294453 ], [ -76.819221, 37.297109 ], [ -76.814688, 37.301339 ], [ -76.81362, 37.301861 ], [ -76.808985, 37.301458 ], [ -76.806715, 37.303471 ], [ -76.804698, 37.303102 ], [ -76.802444, 37.303689 ], [ -76.802588, 37.301853 ], [ -76.80162, 37.299516 ], [ -76.799758, 37.297043 ], [ -76.799191, 37.293268 ], [ -76.799215, 37.290393 ], [ -76.801434, 37.286411 ], [ -76.803138, 37.284174 ], [ -76.804692, 37.281427 ], [ -76.807334, 37.275206 ], [ -76.808032, 37.271908 ], [ -76.807218, 37.269215 ], [ -76.80565, 37.266466 ], [ -76.804424, 37.262462 ], [ -76.799283, 37.25358 ], [ -76.800421, 37.253163 ], [ -76.804299, 37.251941 ], [ -76.805853, 37.252174 ], [ -76.812695, 37.255254 ], [ -76.812134, 37.252073 ], [ -76.810702, 37.250602 ], [ -76.812363, 37.247942 ], [ -76.813509, 37.248073 ], [ -76.815052, 37.245836 ], [ -76.81754, 37.244743 ], [ -76.818542784723789, 37.242410738399101 ], [ -76.822178, 37.243642 ], [ -76.826812, 37.243642 ], [ -76.832398, 37.242034 ], [ -76.840479, 37.241385 ], [ -76.850462, 37.240804 ], [ -76.858424, 37.241385 ], [ -76.861989, 37.242412 ], [ -76.869522, 37.242157 ], [ -76.871934, 37.245975 ], [ -76.873635, 37.250075 ], [ -76.873279, 37.251494 ], [ -76.867693, 37.251967 ], [ -76.866743, 37.253575 ], [ -76.866148, 37.255467 ], [ -76.866267, 37.258493 ], [ -76.867575, 37.260669 ], [ -76.869832, 37.262182 ], [ -76.872209, 37.26275 ], [ -76.875186729573699, 37.260803177855003 ], [ -76.877218, 37.263633 ], [ -76.878902, 37.266014 ], [ -76.882047, 37.271683 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803032", "TotalPop": 2941.0, "MedHHInc": 101018.0, "TotalUnit": 969.0, "pctWhite": 82.794967698061882, "area": 5137454.9196991958 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.799283, 37.25358 ], [ -76.797549, 37.253995 ], [ -76.793441, 37.253954 ], [ -76.790907, 37.254358 ], [ -76.786868, 37.254017 ], [ -76.782818, 37.252252 ], [ -76.77997, 37.249912 ], [ -76.778639, 37.24956 ], [ -76.771204, 37.249242 ], [ -76.77013, 37.249522 ], [ -76.765571, 37.252057 ], [ -76.763032, 37.248717 ], [ -76.761721, 37.244717 ], [ -76.762751, 37.240677 ], [ -76.762798, 37.239422 ], [ -76.764488, 37.239183 ], [ -76.776736, 37.232847 ], [ -76.778728, 37.231401 ], [ -76.78085, 37.229437 ], [ -76.78352, 37.232025 ], [ -76.786162, 37.236936 ], [ -76.788629, 37.239609 ], [ -76.794628, 37.243337 ], [ -76.800421, 37.253163 ], [ -76.799283, 37.25358 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803033", "TotalPop": 1369.0, "MedHHInc": 95526.0, "TotalUnit": 595.0, "pctWhite": 94.083272461650836, "area": 14924369.234069424 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.788879560098593, 37.222601906498198 ], [ -76.784217, 37.226816 ], [ -76.782697, 37.227786 ], [ -76.78085, 37.229437 ], [ -76.778728, 37.231401 ], [ -76.776736, 37.232847 ], [ -76.764488, 37.239183 ], [ -76.762798, 37.239422 ], [ -76.760997, 37.239155 ], [ -76.751668, 37.236009 ], [ -76.748619, 37.236755 ], [ -76.749573, 37.235493 ], [ -76.750135, 37.234916 ], [ -76.74696, 37.233845 ], [ -76.746323, 37.233734 ], [ -76.74525, 37.233487 ], [ -76.746272, 37.231027 ], [ -76.74808, 37.230067 ], [ -76.746304, 37.227907 ], [ -76.744416, 37.229251 ], [ -76.742688, 37.228451 ], [ -76.739392, 37.229091 ], [ -76.741136, 37.227683 ], [ -76.73954, 37.227291 ], [ -76.73982, 37.224876 ], [ -76.737763, 37.224079 ], [ -76.739065, 37.222275 ], [ -76.737494, 37.220363 ], [ -76.739871, 37.218122 ], [ -76.74308, 37.216904 ], [ -76.743022, 37.215117 ], [ -76.743888, 37.214841 ], [ -76.744255076809893, 37.213799758776602 ], [ -76.74814, 37.215066 ], [ -76.753369, 37.215066 ], [ -76.758242, 37.215539 ], [ -76.759668, 37.214403 ], [ -76.759787, 37.212416 ], [ -76.758361, 37.211564 ], [ -76.755627, 37.210996 ], [ -76.751587, 37.210807 ], [ -76.751349, 37.209198 ], [ -76.745883, 37.207778 ], [ -76.743506, 37.206642 ], [ -76.738158, 37.206358 ], [ -76.734995, 37.203161 ], [ -76.735674, 37.202106 ], [ -76.73792, 37.201058 ], [ -76.740654, 37.198313 ], [ -76.74, 37.195379 ], [ -76.74304, 37.192611 ], [ -76.75047, 37.190098 ], [ -76.757765, 37.191658 ], [ -76.760352, 37.193989 ], [ -76.764422, 37.198881 ], [ -76.766255, 37.199307 ], [ -76.773752, 37.206061 ], [ -76.780532, 37.209336 ], [ -76.785268, 37.217595 ], [ -76.786288, 37.220839 ], [ -76.787783, 37.220859 ], [ -76.788879560098593, 37.222601906498198 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950803031", "TotalPop": 4290.0, "MedHHInc": 90159.0, "TotalUnit": 2402.0, "pctWhite": 81.305361305361302, "area": 10502310.810316142 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.807334, 37.275206 ], [ -76.804692, 37.281427 ], [ -76.799492, 37.279717 ], [ -76.797622, 37.279448 ], [ -76.792719, 37.279984 ], [ -76.788251, 37.2787 ], [ -76.78138, 37.280212 ], [ -76.78044, 37.280193 ], [ -76.779562, 37.279795 ], [ -76.776428, 37.276469 ], [ -76.773437, 37.274893 ], [ -76.76848, 37.271445 ], [ -76.767428, 37.271107 ], [ -76.760449, 37.27022 ], [ -76.759396, 37.269746 ], [ -76.757821, 37.268669 ], [ -76.757939, 37.26856 ], [ -76.761987, 37.263029 ], [ -76.765175, 37.257554 ], [ -76.765707, 37.255716 ], [ -76.765571, 37.252057 ], [ -76.77013, 37.249522 ], [ -76.771204, 37.249242 ], [ -76.778639, 37.24956 ], [ -76.77997, 37.249912 ], [ -76.782818, 37.252252 ], [ -76.786868, 37.254017 ], [ -76.790907, 37.254358 ], [ -76.793441, 37.253954 ], [ -76.797549, 37.253995 ], [ -76.799283, 37.25358 ], [ -76.804424, 37.262462 ], [ -76.80565, 37.266466 ], [ -76.807218, 37.269215 ], [ -76.808032, 37.271908 ], [ -76.807334, 37.275206 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802062", "TotalPop": 4414.0, "MedHHInc": 90395.0, "TotalUnit": 2050.0, "pctWhite": 90.5980969642048, "area": 6856432.2187090497 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.789664, 37.283581 ], [ -76.787602, 37.286961 ], [ -76.784508, 37.289063 ], [ -76.779783, 37.289906 ], [ -76.77772, 37.290684 ], [ -76.773595, 37.29503 ], [ -76.771932, 37.297888 ], [ -76.770323, 37.298786 ], [ -76.767744, 37.298511 ], [ -76.762787, 37.299424 ], [ -76.759797, 37.296218 ], [ -76.75815, 37.293151 ], [ -76.754425, 37.293103 ], [ -76.752182, 37.291775 ], [ -76.752836, 37.28928 ], [ -76.753598, 37.281452 ], [ -76.752187, 37.273026 ], [ -76.752233, 37.272993 ], [ -76.756151, 37.270385 ], [ -76.759396, 37.269746 ], [ -76.760449, 37.27022 ], [ -76.767428, 37.271107 ], [ -76.76848, 37.271445 ], [ -76.773437, 37.274893 ], [ -76.776428, 37.276469 ], [ -76.779562, 37.279795 ], [ -76.78044, 37.280193 ], [ -76.78138, 37.280212 ], [ -76.788251, 37.2787 ], [ -76.788488, 37.280588 ], [ -76.789664, 37.283581 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950804022", "TotalPop": 4307.0, "MedHHInc": 82143.0, "TotalUnit": 1664.0, "pctWhite": 68.841420942651496, "area": 20368880.125402961 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.840848, 37.373332 ], [ -76.838653, 37.374013 ], [ -76.823743, 37.383692 ], [ -76.8219, 37.384454 ], [ -76.817097, 37.385002 ], [ -76.81232, 37.383814 ], [ -76.809675, 37.382156 ], [ -76.806173, 37.381928 ], [ -76.806009, 37.383513 ], [ -76.803965, 37.389465 ], [ -76.804492, 37.393399 ], [ -76.805217, 37.395645 ], [ -76.807996, 37.401501 ], [ -76.789423, 37.397774 ], [ -76.78682, 37.39702 ], [ -76.772152, 37.39223 ], [ -76.768991, 37.390122 ], [ -76.766355, 37.387579 ], [ -76.765751, 37.384878 ], [ -76.766386, 37.381961 ], [ -76.770512, 37.378658 ], [ -76.776362, 37.374601 ], [ -76.777903, 37.373093 ], [ -76.779987, 37.373738 ], [ -76.781055, 37.371541 ], [ -76.782292, 37.370436 ], [ -76.785886, 37.36538 ], [ -76.785374, 37.363176 ], [ -76.788213, 37.360041 ], [ -76.791941, 37.359149 ], [ -76.796644, 37.355784 ], [ -76.798852, 37.353244 ], [ -76.800887, 37.352718 ], [ -76.802722, 37.349857 ], [ -76.80891, 37.349218 ], [ -76.811945, 37.347783 ], [ -76.81357, 37.348 ], [ -76.81524, 37.346958 ], [ -76.816363, 37.349062 ], [ -76.815675, 37.351144 ], [ -76.817041, 37.354183 ], [ -76.821361, 37.354906 ], [ -76.823688, 37.355647 ], [ -76.828087, 37.355999 ], [ -76.829671, 37.35851 ], [ -76.829748, 37.359503 ], [ -76.832798, 37.363159 ], [ -76.834172, 37.363535 ], [ -76.835263, 37.365408 ], [ -76.838706, 37.369515 ], [ -76.840848, 37.373332 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802052", "TotalPop": 2073.0, "MedHHInc": 59205.0, "TotalUnit": 1098.0, "pctWhite": 68.982151471297641, "area": 4587730.5190217653 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.752836, 37.28928 ], [ -76.752182, 37.291775 ], [ -76.750457, 37.294753 ], [ -76.745475, 37.299201 ], [ -76.745325, 37.299141 ], [ -76.740911, 37.297685 ], [ -76.739678, 37.298205 ], [ -76.734391, 37.297979 ], [ -76.733218, 37.297571 ], [ -76.733701, 37.292932 ], [ -76.731369, 37.291185 ], [ -76.731517, 37.288976 ], [ -76.733902, 37.288719 ], [ -76.734095, 37.286439 ], [ -76.726219, 37.285067 ], [ -76.725465, 37.284401 ], [ -76.724929, 37.28348 ], [ -76.725484, 37.279806 ], [ -76.728298, 37.280516 ], [ -76.737478, 37.280194 ], [ -76.738479, 37.275935 ], [ -76.742204, 37.276201 ], [ -76.742957, 37.275459 ], [ -76.741143, 37.27338 ], [ -76.743481, 37.273119 ], [ -76.748398, 37.274304 ], [ -76.749353, 37.275103 ], [ -76.752013, 37.273153 ], [ -76.752187, 37.273026 ], [ -76.753598, 37.281452 ], [ -76.752836, 37.28928 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802022", "TotalPop": 2708.0, "MedHHInc": 88634.0, "TotalUnit": 1102.0, "pctWhite": 91.395864106351553, "area": 4219905.2901482005 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.765571, 37.252057 ], [ -76.762473, 37.253389 ], [ -76.758589, 37.253365 ], [ -76.753659, 37.252582 ], [ -76.752076, 37.252849 ], [ -76.748512, 37.253836 ], [ -76.746769, 37.255041 ], [ -76.744429, 37.258073 ], [ -76.742599, 37.259209 ], [ -76.738839, 37.260003 ], [ -76.738442, 37.260174 ], [ -76.738029, 37.26037 ], [ -76.738554, 37.261318 ], [ -76.737682, 37.260728 ], [ -76.736717, 37.259249 ], [ -76.736083, 37.257218 ], [ -76.732155, 37.253666 ], [ -76.732418, 37.253363 ], [ -76.746976, 37.238216 ], [ -76.748619, 37.236755 ], [ -76.751668, 37.236009 ], [ -76.760997, 37.239155 ], [ -76.762798, 37.239422 ], [ -76.762751, 37.240677 ], [ -76.761721, 37.244717 ], [ -76.763032, 37.248717 ], [ -76.765571, 37.252057 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802031", "TotalPop": 1391.0, "MedHHInc": 109734.0, "TotalUnit": 821.0, "pctWhite": 95.111430625449316, "area": 12891265.826564565 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.74808, 37.230067 ], [ -76.746272, 37.231027 ], [ -76.74525, 37.233487 ], [ -76.744747, 37.232324 ], [ -76.741709, 37.230626 ], [ -76.740752, 37.232053 ], [ -76.738558, 37.23322 ], [ -76.736077, 37.23348 ], [ -76.729574, 37.23316 ], [ -76.728741, 37.239856 ], [ -76.727921, 37.24619 ], [ -76.729071, 37.249614 ], [ -76.727855, 37.25049 ], [ -76.726003, 37.249901 ], [ -76.70815, 37.247873 ], [ -76.706469, 37.247809 ], [ -76.702289, 37.248349 ], [ -76.700271, 37.248744 ], [ -76.699348, 37.242875 ], [ -76.697938, 37.23864 ], [ -76.69693, 37.233209 ], [ -76.695121, 37.229915 ], [ -76.69468, 37.226487 ], [ -76.69360940766019, 37.223203660669199 ], [ -76.698943, 37.219059 ], [ -76.702625, 37.217148 ], [ -76.710587, 37.215728 ], [ -76.720332, 37.214309 ], [ -76.728974238334089, 37.212699648950903 ], [ -76.731507, 37.212228 ], [ -76.738277, 37.212889 ], [ -76.742912, 37.213362 ], [ -76.744255076809893, 37.213799758776602 ], [ -76.743888, 37.214841 ], [ -76.743022, 37.215117 ], [ -76.74308, 37.216904 ], [ -76.739871, 37.218122 ], [ -76.737494, 37.220363 ], [ -76.739065, 37.222275 ], [ -76.737763, 37.224079 ], [ -76.73982, 37.224876 ], [ -76.73954, 37.227291 ], [ -76.741136, 37.227683 ], [ -76.739392, 37.229091 ], [ -76.742688, 37.228451 ], [ -76.744416, 37.229251 ], [ -76.746304, 37.227907 ], [ -76.74808, 37.230067 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950802051", "TotalPop": 1893.0, "MedHHInc": 52782.0, "TotalUnit": 926.0, "pctWhite": 55.203380876914956, "area": 1757360.2481690601 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.746667, 37.311939 ], [ -76.746704, 37.313955 ], [ -76.746389, 37.314398 ], [ -76.740159, 37.315333 ], [ -76.733803, 37.315863 ], [ -76.733507, 37.315897 ], [ -76.732114, 37.312749 ], [ -76.729601, 37.312979 ], [ -76.728903, 37.308451 ], [ -76.727859, 37.305927 ], [ -76.728994, 37.305619 ], [ -76.730966, 37.310104 ], [ -76.737155, 37.308308 ], [ -76.736219, 37.307392 ], [ -76.740546, 37.305789 ], [ -76.740949, 37.301586 ], [ -76.739236, 37.302246 ], [ -76.734551, 37.300132 ], [ -76.734391, 37.297979 ], [ -76.739678, 37.298205 ], [ -76.740911, 37.297685 ], [ -76.745325, 37.299141 ], [ -76.745475, 37.299201 ], [ -76.744764, 37.299996 ], [ -76.743959, 37.301941 ], [ -76.744059, 37.303608 ], [ -76.747357, 37.310859 ], [ -76.746667, 37.311939 ] ] ] ] } },
    { "type": "Feature", "properties": { "GEOID": "510950801011", "TotalPop": 1357.0, "MedHHInc": 147917.0, "TotalUnit": 1124.0, "pctWhite": 94.473102431834931, "area": 6918890.9516331498 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -76.679535, 37.229285 ], [ -76.678059, 37.230033 ], [ -76.676055, 37.22903 ], [ -76.675155, 37.232389 ], [ -76.673479, 37.231798 ], [ -76.669145, 37.232413 ], [ -76.664952, 37.230548 ], [ -76.661658, 37.232578 ], [ -76.659951, 37.23424 ], [ -76.659849, 37.237044 ], [ -76.661235, 37.24008 ], [ -76.659974, 37.241492 ], [ -76.656542, 37.243161 ], [ -76.654563, 37.241308 ], [ -76.651277, 37.239154 ], [ -76.64747, 37.239587 ], [ -76.632722, 37.236345 ], [ -76.628595, 37.233499 ], [ -76.627323, 37.231469 ], [ -76.627269, 37.231328 ], [ -76.629667, 37.231304 ], [ -76.62834, 37.229903 ], [ -76.633093, 37.225412 ], [ -76.63704, 37.218452 ], [ -76.638235, 37.217579 ], [ -76.638791, 37.216113 ], [ -76.641085, 37.216002 ], [ -76.649869, 37.220914 ], [ -76.659842, 37.223205 ], [ -76.676360754898397, 37.223140271336604 ], [ -76.675874, 37.226775 ], [ -76.678253, 37.227154 ], [ -76.679535, 37.229285 ] ] ] ] } }
    ]
    }
    ;
  
// Dropdown selections
const select = document.getElementById('property-select');

// Add an event listener for the 'change' event
select.addEventListener('change', (event) => {
    // Get the selected option value
    const selectedProperty = event.target.value;

    // Do something with the selected option value
    console.log('Selected option:', selectedProperty);



  // Find the maximum value in the GeoJSON data
  const findMaxValue = (features, property) => {
    let max = 0;
    features.forEach((feature) => {
      const value = feature.properties[property];
      if (value > max) {
        max = value;
      }
    });
    return max;
  };


  const maxValue = findMaxValue(portdata.features,selectedProperty) ;


  // Define a color scale based on population values
  const getColor = (value,maxValue) => {
    return value > 0.9*maxValue  ? '#263f33' :
          value > 0.8*maxValue  ? '#517a70' :
          value > 0.6*maxValue  ? '#749f96' :
          value > 0.4*maxValue  ? '#9cc0b2' :
          value > 0.2*maxValue  ? '#b0d0c5' :
                                  '#cfe8df';
  };

  // Style function for GeoJSON layer
  const style = (feature) => {
    
    return {
      fillColor: getColor(feature.properties[selectedProperty],maxValue),
      fillOpacity: 0.7,
      weight: 2,
      opacity: 1,
      color: 'white',
      dashArray: '3'
      
    };
  };

  // Event handlers for mouse events
  const highlightFeature = (e) => {
    const layer = e.target;
    layer.setStyle({
      weight: 5,
      color: '#666',
      dashArray: '',
      fillOpacity: 0.7
    });

    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
      layer.bringToFront();
    }

    // Create a popup with the feature properties
    const popupContent = "GEOID:"+layer.feature.properties.GEOID+"<br>"+selectedProperty+":"+layer.feature.properties[selectedProperty];
    layer.bindPopup(popupContent).openPopup();
  };

  const resetHighlight = (e) => {
    popLayer.resetStyle(e.target);
    e.target.closePopup();
  };

  const onEachFeature = (feature, layer) => {
    layer.on({
      mouseover: highlightFeature,
      mouseout: resetHighlight
    });
  };
    
  // add geojson layer to map
  var popLayer = L.geoJSON(portdata,{style: style, onEachFeature: onEachFeature}
    ).addTo(map);

});


